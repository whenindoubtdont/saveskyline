/* style.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --font-heading: 'Outfit', system-ui, -apple-system, sans-serif;
}

html {
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    html { scroll-behavior: auto; }
    .motion-safe\:animate-bounce { animation: none; }
}

body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.font-heading, h1, h2, h3 {
    font-family: var(--font-heading);
}

/* Skip link — visible on focus for a11y */
.skip-link {
    position: absolute;
    top: -100px;
    left: 1rem;
    z-index: 100;
    padding: 0.75rem 1.25rem;
    background: #059669;
    color: #fff;
    font-weight: 600;
    border-radius: 0.5rem;
    transition: top 0.2s ease;
}
.skip-link:focus {
    top: 1rem;
    outline: 2px solid #34d399;
    outline-offset: 2px;
}

/* Section reveal — fade-in on scroll (respect reduced motion) */
.section-reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.5s ease;
}
.section-reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
}
@media (prefers-reduced-motion: reduce) {
    .section-reveal { opacity: 1; transform: none; }
    .section-reveal.is-visible { transform: none; }
}

/* Mobile menu */
.mobile-menu {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}
.mobile-menu.is-open {
    max-height: 80vh;
}
.mobile-nav-link {
    display: block;
    padding: 0.875rem 1rem;
    color: #d6d3d1;
    font-size: 0.9375rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 0.5rem;
    transition: color 0.2s, background 0.2s;
}
.mobile-nav-link:hover {
    color: #34d399;
    background: rgba(6, 95, 70, 0.2);
}

/* Back to top */
.back-to-top {
    position: fixed;
    bottom: 5.5rem;
    right: 1.5rem;
    z-index: 40;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #059669;
    color: #fff;
    border-radius: 50%;
    box-shadow: 0 4px 14px rgba(5, 150, 105, 0.4);
    opacity: 0;
    visibility: hidden;
    transform: translateY(8px);
    transition: opacity 0.25s ease, transform 0.25s ease, background 0.2s;
}
.back-to-top:hover {
    background: #10b981;
}
.back-to-top.is-visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}
.back-to-top.left {
    left: 1.5rem;
    right: auto;
}
@media (prefers-reduced-motion: reduce) {
    .back-to-top { transition: opacity 0.2s; }
}

/* Custom scrollbar for template */
#template::-webkit-scrollbar {
    width: 6px;
}
#template::-webkit-scrollbar-thumb {
    background: #166534;
    border-radius: 3px;
}

footer {
    padding-bottom: 7rem;
}

/* Hero: full-bleed fixed background, mobile Safari viewport and safe areas */
.hero-bg {
    background-attachment: fixed;
}
@supports (-webkit-touch-callout: none) {
    .hero-bg { background-attachment: scroll; }
}
.hero-viewport {
    min-height: 100vh;
    min-height: 100dvh;
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
}
.hero-content {
    padding-left: max(1.5rem, env(safe-area-inset-left));
    padding-right: max(1.5rem, env(safe-area-inset-right));
}

/* ===== EXPLICIT MODE — NUCLEAR RED/BLACK OVERHAUL ===== */
body.explicit-mode {
    transition: background-color 0.4s ease;
}

/* Emerald text → Red */
body.explicit-mode .text-emerald-400,
body.explicit-mode .text-emerald-300,
body.explicit-mode .text-emerald-200 {
    color: #f87171 !important;
}
body.explicit-mode .text-emerald-400\/95 {
    color: rgba(248, 113, 113, 0.95) !important;
}
body.explicit-mode .text-emerald-500 {
    color: #ef4444 !important;
}

/* Emerald backgrounds → Red/Crimson */
body.explicit-mode .bg-emerald-500,
body.explicit-mode .bg-emerald-600 {
    background-color: #dc2626 !important;
}
body.explicit-mode .bg-emerald-700 {
    background-color: #b91c1c !important;
}
body.explicit-mode .bg-emerald-800 {
    background-color: #991b1b !important;
}
body.explicit-mode .bg-emerald-900 {
    background-color: #450a0a !important;
}
body.explicit-mode .bg-emerald-900\/40 {
    background-color: rgba(69, 10, 10, 0.4) !important;
}
body.explicit-mode .bg-emerald-950 {
    background-color: #1a0505 !important;
}

/* Hover states */
body.explicit-mode .hover\:bg-emerald-400:hover {
    background-color: #f87171 !important;
}
body.explicit-mode .hover\:bg-emerald-500:hover {
    background-color: #ef4444 !important;
}
body.explicit-mode .hover\:bg-emerald-600:hover {
    background-color: #dc2626 !important;
}
body.explicit-mode .hover\:bg-emerald-700:hover {
    background-color: #b91c1c !important;
}
body.explicit-mode .hover\:text-emerald-400:hover {
    color: #f87171 !important;
}
body.explicit-mode .hover\:text-emerald-200:hover {
    color: #fca5a5 !important;
}

/* Borders */
body.explicit-mode .border-emerald-500 {
    border-color: #ef4444 !important;
}
body.explicit-mode .border-emerald-600,
body.explicit-mode .hover\:border-emerald-600:hover {
    border-color: #dc2626 !important;
}
body.explicit-mode .border-emerald-700 {
    border-color: #b91c1c !important;
}
body.explicit-mode .border-t-4.border-emerald-500 {
    border-top-color: #ef4444 !important;
}

/* Focus rings */
body.explicit-mode .focus\:border-emerald-500:focus {
    border-color: #ef4444 !important;
}
body.explicit-mode .focus\:ring-emerald-500:focus {
    --tw-ring-color: #ef4444 !important;
}
body.explicit-mode .focus\:ring-emerald-400:focus {
    --tw-ring-color: #f87171 !important;
}

/* Emerald dividers → red */
body.explicit-mode .bg-emerald-900[class*="h-px"],
body.explicit-mode .h-px.bg-emerald-900 {
    background-color: #450a0a !important;
}

/* Hero overlay — heavier, more oppressive */
body.explicit-mode .bg-gradient-to-b.from-black\/55 {
    background: linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.85), black) !important;
}

/* Shadow glow → red */
body.explicit-mode .shadow-emerald-900\/30 {
    --tw-shadow-color: rgba(127, 29, 29, 0.3);
    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), 0 10px 15px -3px rgba(127, 29, 29, 0.3) !important;
}

/* Back to top button */
body.explicit-mode .back-to-top {
    background: #dc2626;
    box-shadow: 0 4px 14px rgba(220, 38, 38, 0.4);
}
body.explicit-mode .back-to-top:hover {
    background: #ef4444;
}

/* Skip link */
body.explicit-mode .skip-link {
    background: #dc2626;
}
body.explicit-mode .skip-link:focus {
    outline-color: #f87171;
}

/* Audio player accents */
body.explicit-mode #audio-progress {
    background-color: #ef4444 !important;
}
body.explicit-mode #audio-play-btn {
    background-color: #dc2626 !important;
}
body.explicit-mode #audio-play-btn:hover {
    background-color: #ef4444 !important;
}

/* Mobile menu hover */
body.explicit-mode .mobile-nav-link:hover {
    color: #f87171;
    background: rgba(127, 29, 29, 0.2);
}

/* Template scrollbar */
body.explicit-mode #template::-webkit-scrollbar-thumb {
    background: #991b1b;
}

/* Nav icon */
body.explicit-mode .nav-bar .fa-mountain {
    color: #ef4444 !important;
}
body.explicit-mode .nav-bar .group-hover\:text-emerald-400 {
    color: #ef4444 !important;
}

/* Red-400 stays red (threat paragraph2) */
body.explicit-mode .text-red-400 {
    color: #ff6b6b !important;
    text-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

/* Amber icons → full red in explicit mode */
body.explicit-mode .text-amber-400 {
    color: #ef4444 !important;
}

/* CTA text on red bg needs to stay dark */
body.explicit-mode .hero-cta {
    color: #fff !important;
}

/* Explicit toggle button positioning */
.explicit-toggle {
    transition: all 0.3s ease;
}